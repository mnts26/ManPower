(function(C){function A(F,D,E){this.dec=F;this.group=D;this.neg=E}function B(D){var G=".";var E=",";var F="-";if(D=="us"||D=="ae"||D=="eg"||D=="il"||D=="jp"||D=="sk"||D=="th"||D=="cn"||D=="hk"||D=="tw"||D=="au"||D=="ca"||D=="gb"||D=="in"){G=".";E=","}else{if(D=="de"||D=="vn"||D=="es"||D=="dk"||D=="at"||D=="gr"||D=="br"){G=",";E="."}else{if(D=="cz"||D=="fr"||D=="fi"||D=="ru"||D=="se"){E=" ";G=","}else{if(D=="ch"){E="'";G="."}}}}return new A(G,E,F)}C.formatNumber=function(F,E){var E=C.extend({},C.fn.parse.defaults,E);var H=B(E.locale.toLowerCase());var J=H.dec;var G=H.group;var I=H.neg;var D=new String(F);D=D.replace(".",J).replace("-",I);return D};C.fn.parse=function(D){var D=C.extend({},C.fn.parse.defaults,D);var G=B(D.locale.toLowerCase());var J=G.dec;var F=G.group;var I=G.neg;var E="1234567890.-";var H=[];this.each(function(){var O=new String(C(this).text());if(C(this).is(":input")){O=new String(C(this).val())}O=O.replace(F,"").replace(J,".").replace(I,"-");var N="";var K=false;if(O.charAt(O.length-1)=="%"){K=true}for(var L=0;L<O.length;L++){if(E.indexOf(O.charAt(L))>-1){N=N+O.charAt(L)}}var M=new Number(N);if(K){M=M/100;M=M.toFixed(N.length-1)}H.push(M)});return H};C.fn.format=function(D){var D=C.extend({},C.fn.format.defaults,D);var F=B(D.locale.toLowerCase());var I=F.dec;var E=F.group;var H=F.neg;var G="0#-,.";return this.each(function(){var Y=new String(C(this).text());if(C(this).is(":input")){Y=new String(C(this).val())}var R="";var S=false;for(var P=0;P<D.format.length;P++){if(G.indexOf(D.format.charAt(P))==-1){R=R+D.format.charAt(P)}else{if(P==0&&D.format.charAt(P)=="-"){S=true;continue}else{break}}}var Z="";for(var P=D.format.length-1;P>=0;P--){if(G.indexOf(D.format.charAt(P))==-1){Z=D.format.charAt(P)+Z}else{break}}D.format=D.format.substring(R.length);D.format=D.format.substring(0,D.format.length-Z.length);var O=new Number(Y.replace(E,"").replace(I,".").replace(H,"-"));if(Z=="%"){O=O*100}var U="";var L=O%1;if(D.format.indexOf(".")>-1){var K=I;var M=D.format.substring(D.format.lastIndexOf(".")+1);var X=new String(L.toFixed(M.length));X=X.substring(X.lastIndexOf(".")+1);for(var P=0;P<M.length;P++){if(M.charAt(P)=="#"&&X.charAt(P)!="0"){K+=X.charAt(P);break}else{if(M.charAt(P)=="0"){K+=X.charAt(P)}}}U+=K}else{O=Math.round(O)}var V=Math.floor(O);if(O<0){V=Math.ceil(O)}var T="";if(V==0){T="0"}else{var N="";if(D.format.indexOf(".")==-1){N=D.format}else{N=D.format.substring(0,D.format.indexOf("."))}var Q=new String(V);var J=9999;if(N.lastIndexOf(",")!=-1){J=N.length-N.lastIndexOf(",")-1}var W=0;for(var P=Q.length-1;P>-1;P--){T=Q.charAt(P)+T;W++;if(W==J&&P!=0){T=E+T;W=0}}}U=T+U;if(O<0&&S&&R.length>0){U=U.substring(1);R=H+R}U=R+U+Z;if(C(this).is(":input")){C(this).val(U)}else{C(this).text(U)}})};C.fn.parse.defaults={locale:"us"};C.fn.format.defaults={format:"#,###.00",locale:"us"}})(jQuery);